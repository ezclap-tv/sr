import{S as e,i as t,s as a,p as n,q as s,a as r,z as o,x as i,k as d,A as c,B as l,c as u,m as p,j as f,t as m,f as y}from"./vendor.fa65c9af.js";import{n as $}from"./index.7df3fbc2.js";function g(e){let t,a;return{c(){t=n("div"),a=n("div"),s(a,"id",e[0]),s(t,"class","h-full w-full bg-none m-0 p-0")},m(e,n){r(e,t,n),o(t,a)},p:i,i:i,o:i,d(e){e&&d(t)}}}const w={0:"stopped",1:"playing",2:"paused",3:"buffering"};function h(e,t,a){let{options:n={}}=t;function s(e){return{player:i,data:e}}const r=c();let o="player-"+$(5),i=null,d=!1;function u(e){d||(d=!0,new Promise((e=>{var t;if(window.YT)e();else{const a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";const n=document.getElementsByTagName("script")[0];null==(t=n.parentNode)||t.insertBefore(a,n),window.onYouTubeIframeAPIReady=()=>e()}})).then((()=>{i=new YT.Player(o,e),i.addEventListener("onReady",(e=>r("ready",s()))),i.addEventListener("onError",(e=>r("error",s(e.data)))),i.addEventListener("onStateChange",(e=>w[e.data]&&r("state",s(w[e.data])))),i.addEventListener("onPlaybackQualityChange",(e=>r("quality",s(e.data)))),i.addEventListener("onPlaybackRateChange",(e=>r("rate",s(e.data)))),d=!1})))}return l((()=>{i&&i.destroy()})),e.$$set=e=>{"options"in e&&a(1,n=e.options)},e.$$.update=()=>{2&e.$$.dirty&&u(n)},[o,n,()=>i]}class v extends e{constructor(e){super(),t(this,e,h,g,a,{options:1,player:2})}get player(){return this.$$.ctx[2]}}function E(e){let t,a;return t=new v({}),t.$on("ready",b),t.$on("state",x),{c(){u(t.$$.fragment)},m(e,n){p(t,e,n),a=!0},p:i,i(e){a||(f(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){y(t,e)}}}function b(e){console.log(e.detail)}function x(e){console.log(e.detail)}function L(e,t,a){let{params:n={}}=t;return n.room,e.$$set=e=>{"params"in e&&a(0,n=e.params)},[n]}class P extends e{constructor(e){super(),t(this,e,L,E,a,{params:0})}}export{P as default};
